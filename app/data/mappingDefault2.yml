# Copyright (c) 2022 Robert Bosch GmbH and Microsoft Corporation
#
# This program and the accompanying materials are made available under the
# terms of the Apache License, Version 2.0 which is available at
# https://www.apache.org/licenses/LICENSE-2.0.
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
# License for the specific language governing permissions and limitations
# under the License.
#
# SPDX-License-Identifier: Apache-2.0

# Mapping Trunk Status
TailgateState:
  vss: # taken from https://github.com/COVESA/vehicle_signal_specification/blob/master/spec/Body/Body.vspec
    datatype: float
    type: sensor
    unit: none
    description: Trunk open or closed. True = Open. False = Closed.
  databroker:
    datatype: 1 # BOOL number taken from types_pb2.py
    changetype: 2 # ON_CHANGE number taken from types_pb2.py
  targets:
    Vehicle.Body.Trunk.Rear.IsOpen: 
      transform:
        fullmapping:
          Open: "true"
          Close: "false"

# Mapping Hood Status
BonnetState:
  vss: # taken from https://github.com/COVESA/vehicle_signal_specification/blob/master/spec/Body/Body.vspec
    datatype: float
    type: sensor
    unit: none
    description: Trunk open or closed. True = Open. False = Closed.
  databroker:
    datatype: 1 # BOOL number taken from types_pb2.py
    changetype: 2 # ON_CHANGE number taken from types_pb2.py
  targets:
    Vehicle.Body.Hood.IsOpen:
      transform:
        fullmapping:
          Open: "true"
          Close: "false"

# Mapping Rear left door
DoorStateRearLH:
  vss: # taken from https://github.com/COVESA/vehicle_signal_specification/blob/master/spec/Cabin/SingleDoor.vspec
    datatype: boolean
    type: actuator
    unit: none
    description: Is door open or closed
  databroker:
    datatype: 1 # BOOL number taken from types_pb2.py
    changetype: 2 # ON_CHANGE number taken from types_pb2.py
  minupdatedelay: 500
  targets:
    Vehicle.Cabin.Door.Row2.Left.IsOpen:
      transform:
        fullmapping:
          Open: "true"
          Close: "false"

# Mapping Rear Right door
DoorStateRearRH:
  vss: # taken from https://github.com/COVESA/vehicle_signal_specification/blob/master/spec/Cabin/SingleDoor.vspec
    datatype: boolean
    type: actuator
    unit: none
    description: Is door open or closed
  databroker:
    datatype: 1 # BOOL number taken from types_pb2.py
    changetype: 2 # ON_CHANGE number taken from types_pb2.py
  minupdatedelay: 500
  targets:
    Vehicle.Cabin.Door.Row2.Right.IsOpen:
      transform:
        fullmapping:
          Open: "true"
          Close: "false"